<h1> {{ 'construction.list' | translate }}</h1>

<div class="action-and-button flex ltSm:flex-col justify-between">

    <!-- <a [routerLink]="['/', 'admin', 'users', 'new']" nz-button nzType="primary"
      >{{ getAddButtonName() }} <nz-icon nzType="down" nzType="plus"
    /></a> -->

</div>

<nz-table
  #table
  [nzFrontPagination]="false"
>
  <thead>
    <tr>
      <th
        nzColumnKey="name"
      >
        {{ 'construction.fields.name' | translate }}
      </th>
      <th
        nzColumnKey="address"
      >
        {{ 'construction.fields.address' | translate }}
      </th>

      <th
        nzColumnKey="endDate"
      >
        {{ 'construction.fields.endDate' | translate }}
      </th>

      <th
        nzColumnKey="plus"
      >
        {{ 'worker.plus' | translate }}
      </th>
    </tr>
  </thead>

  <tbody>
  @for (construction of constructions; track $index) {
    <tr>
      <td>{{ construction.name }}</td>
      <td>{{ construction.address }}</td>
      <td>{{ construction.endDate | date: 'mediumDate' }}</td>
      <td>
        <button nz-button nzShape="circle" nz-dropdown [nzDropdownMenu]="menu">
          <nz-icon nzType="more" nzTheme="outline"></nz-icon>
        </button>
        <nz-dropdown-menu #menu="nzDropdownMenu">
          <ul nz-menu>
            <li nz-menu-item (click)="viewConstruction(construction)">
              <nz-icon nzType="info-circle" nzTheme="outline"></nz-icon>
              {{ 'actions.view' | translate }}
            </li>

            <li nz-menu-item (click)="editConstruction(construction)">
              <nz-icon nzType="edit" nzTheme="outline"></nz-icon>
              {{ 'actions.edit' | translate }}
            </li>

            <li nz-menu-item (click)="deleteConstruction(construction)">
              <nz-icon nzType="delete" nzTheme="outline"></nz-icon>
              {{ 'actions.delete' | translate }}
            </li>
          </ul>
        </nz-dropdown-menu>
      </td>
    </tr>
  }
</tbody>
</nz-table>

